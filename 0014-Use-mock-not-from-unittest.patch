From 3f05634e7e73d4012ef403438db4980e7c191b85 Mon Sep 17 00:00:00 2001
From: Martin Kopec <mkopec@redhat.com>
Date: Wed, 25 Aug 2021 11:55:10 +0000
Subject: [PATCH 14/15] Use mock not from unittest

mock from unittest is available only in python3

Change-Id: Ic5d6867cb641e2036d913101b1776c9b9c853665
---
 tempest/cmd/verify_tempest_config.py                          | 2 +-
 tempest/tests/api/compute/test_base.py                        | 2 +-
 tempest/tests/base.py                                         | 2 +-
 tempest/tests/cmd/test_account_generator.py                   | 2 +-
 tempest/tests/cmd/test_cleanup.py                             | 2 +-
 tempest/tests/cmd/test_run.py                                 | 2 +-
 tempest/tests/cmd/test_subunit_describe_calls.py              | 4 ++--
 tempest/tests/cmd/test_verify_tempest_config.py               | 2 +-
 tempest/tests/cmd/test_workspace.py                           | 2 +-
 tempest/tests/common/test_compute.py                          | 2 +-
 tempest/tests/common/test_credentials_factory.py              | 2 +-
 tempest/tests/common/test_waiters.py                          | 2 +-
 tempest/tests/common/utils/test_net_utils.py                  | 2 +-
 tempest/tests/lib/cli/test_execute.py                         | 2 +-
 tempest/tests/lib/cmd/test_check_uuid.py                      | 4 ++--
 tempest/tests/lib/common/test_cred_client.py                  | 2 +-
 tempest/tests/lib/common/test_dynamic_creds.py                | 2 +-
 tempest/tests/lib/common/test_preprov_creds.py                | 2 +-
 tempest/tests/lib/common/test_profiler.py                     | 2 +-
 tempest/tests/lib/common/test_validation_resources.py         | 2 +-
 tempest/tests/lib/common/utils/linux/test_remote_client.py    | 2 +-
 tempest/tests/lib/common/utils/test_test_utils.py             | 2 +-
 .../tests/lib/services/compute/test_base_compute_client.py    | 2 +-
 tempest/tests/lib/services/compute/test_servers_client.py     | 2 +-
 tempest/tests/lib/services/compute/test_services_client.py    | 2 +-
 tempest/tests/lib/services/identity/v2/test_token_client.py   | 2 +-
 tempest/tests/lib/services/identity/v3/test_token_client.py   | 2 +-
 .../tests/lib/services/network/test_base_network_client.py    | 2 +-
 .../lib/services/network/test_security_group_rules_client.py  | 2 +-
 .../tests/lib/services/network/test_security_groups_client.py | 2 +-
 .../tests/lib/services/object_storage/test_object_client.py   | 2 +-
 tempest/tests/lib/services/test_clients.py                    | 2 +-
 tempest/tests/lib/services/volume/v3/test_services_client.py  | 2 +-
 .../lib/services/volume/v3/test_snapshot_manage_client.py     | 2 +-
 tempest/tests/lib/services/volume/v3/test_transfers_client.py | 2 +-
 .../tests/lib/services/volume/v3/test_volume_manage_client.py | 2 +-
 tempest/tests/lib/test_decorators.py                          | 2 +-
 tempest/tests/lib/test_ssh.py                                 | 2 +-
 tempest/tests/test_base_test.py                               | 2 +-
 tempest/tests/test_imports.py                                 | 2 +-
 tempest/tests/test_test.py                                    | 2 +-
 41 files changed, 43 insertions(+), 43 deletions(-)

diff --git a/tempest/cmd/verify_tempest_config.py b/tempest/cmd/verify_tempest_config.py
index 0db1ab157..4baafef7d 100644
--- a/tempest/cmd/verify_tempest_config.py
+++ b/tempest/cmd/verify_tempest_config.py
@@ -65,7 +65,7 @@ import os
 import re
 import sys
 import traceback
-from urllib import parse as urlparse
+import urlparse
 
 from cliff import command
 from oslo_log import log as logging
diff --git a/tempest/tests/api/compute/test_base.py b/tempest/tests/api/compute/test_base.py
index 74d2625d5..159346462 100644
--- a/tempest/tests/api/compute/test_base.py
+++ b/tempest/tests/api/compute/test_base.py
@@ -12,7 +12,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from oslo_utils import uuidutils
 import six
diff --git a/tempest/tests/base.py b/tempest/tests/base.py
index e8b2c984b..02bd03f97 100644
--- a/tempest/tests/base.py
+++ b/tempest/tests/base.py
@@ -12,7 +12,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from oslotest import base
 
diff --git a/tempest/tests/cmd/test_account_generator.py b/tempest/tests/cmd/test_account_generator.py
index 7d764be73..df2e7734e 100644
--- a/tempest/tests/cmd/test_account_generator.py
+++ b/tempest/tests/cmd/test_account_generator.py
@@ -12,7 +12,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 import fixtures
 from oslo_config import cfg
diff --git a/tempest/tests/cmd/test_cleanup.py b/tempest/tests/cmd/test_cleanup.py
index 69e735b55..1618df9ff 100644
--- a/tempest/tests/cmd/test_cleanup.py
+++ b/tempest/tests/cmd/test_cleanup.py
@@ -12,7 +12,7 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from unittest import mock
+import mock
 
 from tempest.cmd import cleanup
 from tempest.tests import base
diff --git a/tempest/tests/cmd/test_run.py b/tempest/tests/cmd/test_run.py
index ce418e463..0345cdcc6 100644
--- a/tempest/tests/cmd/test_run.py
+++ b/tempest/tests/cmd/test_run.py
@@ -18,7 +18,7 @@ import os
 import shutil
 import subprocess
 import tempfile
-from unittest import mock
+import mock
 
 import fixtures
 import six
diff --git a/tempest/tests/cmd/test_subunit_describe_calls.py b/tempest/tests/cmd/test_subunit_describe_calls.py
index b72d4ead0..4b2dd936f 100644
--- a/tempest/tests/cmd/test_subunit_describe_calls.py
+++ b/tempest/tests/cmd/test_subunit_describe_calls.py
@@ -21,8 +21,8 @@ import shutil
 import subprocess
 import sys
 import tempfile
-from unittest import mock
-from unittest.mock import patch
+import mock
+from mock import patch
 
 
 from oslo_serialization import jsonutils as json
diff --git a/tempest/tests/cmd/test_verify_tempest_config.py b/tempest/tests/cmd/test_verify_tempest_config.py
index a8a4c0fb8..8c862380e 100644
--- a/tempest/tests/cmd/test_verify_tempest_config.py
+++ b/tempest/tests/cmd/test_verify_tempest_config.py
@@ -13,7 +13,7 @@
 #    under the License.
 
 import os
-from unittest import mock
+import mock
 
 import fixtures
 from oslo_serialization import jsonutils as json
diff --git a/tempest/tests/cmd/test_workspace.py b/tempest/tests/cmd/test_workspace.py
index eae620224..002954041 100644
--- a/tempest/tests/cmd/test_workspace.py
+++ b/tempest/tests/cmd/test_workspace.py
@@ -16,7 +16,7 @@ import os
 import shutil
 import subprocess
 import tempfile
-from unittest.mock import patch
+from mock import patch
 try:
     from StringIO import StringIO
 except ImportError:
diff --git a/tempest/tests/common/test_compute.py b/tempest/tests/common/test_compute.py
index 45a439ce9..6e487f69c 100644
--- a/tempest/tests/common/test_compute.py
+++ b/tempest/tests/common/test_compute.py
@@ -13,7 +13,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from six.moves.urllib import parse as urlparse
 
diff --git a/tempest/tests/common/test_credentials_factory.py b/tempest/tests/common/test_credentials_factory.py
index 374474d89..39402fd4d 100644
--- a/tempest/tests/common/test_credentials_factory.py
+++ b/tempest/tests/common/test_credentials_factory.py
@@ -13,7 +13,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from oslo_config import cfg
 import testtools
diff --git a/tempest/tests/common/test_waiters.py b/tempest/tests/common/test_waiters.py
index f80124301..70cb0ff48 100755
--- a/tempest/tests/common/test_waiters.py
+++ b/tempest/tests/common/test_waiters.py
@@ -13,7 +13,7 @@
 #    under the License.
 
 import time
-from unittest import mock
+import mock
 
 from oslo_utils.fixture import uuidsentinel as uuids
 
diff --git a/tempest/tests/common/utils/test_net_utils.py b/tempest/tests/common/utils/test_net_utils.py
index 51d86d14f..83c6bcc08 100644
--- a/tempest/tests/common/utils/test_net_utils.py
+++ b/tempest/tests/common/utils/test_net_utils.py
@@ -10,7 +10,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from tempest.common.utils import net_utils
 from tempest.lib import exceptions as lib_exc
diff --git a/tempest/tests/lib/cli/test_execute.py b/tempest/tests/lib/cli/test_execute.py
index a10e3bbbc..50a0e4bf6 100644
--- a/tempest/tests/lib/cli/test_execute.py
+++ b/tempest/tests/lib/cli/test_execute.py
@@ -12,7 +12,7 @@
 #    under the License.
 
 import subprocess
-from unittest import mock
+import mock
 
 
 from tempest.lib.cli import base as cli_base
diff --git a/tempest/tests/lib/cmd/test_check_uuid.py b/tempest/tests/lib/cmd/test_check_uuid.py
index a621a7535..04a8d2d3f 100644
--- a/tempest/tests/lib/cmd/test_check_uuid.py
+++ b/tempest/tests/lib/cmd/test_check_uuid.py
@@ -16,7 +16,7 @@ import os
 import shutil
 import sys
 import tempfile
-from unittest import mock
+import mock
 
 from tempest.lib.cmd import check_uuid
 from tempest.tests import base
@@ -145,7 +145,7 @@ class TestTestChecker(base.TestCase):
         patcher = check_uuid.SourcePatcher()
         checker = check_uuid.TestChecker(importlib.import_module('tempest'))
         fake_file = tempfile.NamedTemporaryFile("w+t", delete=False)
-        source_code = "from unittest import mock\n"
+        source_code = "import mock\n"
         fake_file.write(source_code)
         fake_file.close()
 
diff --git a/tempest/tests/lib/common/test_cred_client.py b/tempest/tests/lib/common/test_cred_client.py
index 7ea660b69..100aafc52 100644
--- a/tempest/tests/lib/common/test_cred_client.py
+++ b/tempest/tests/lib/common/test_cred_client.py
@@ -11,7 +11,7 @@
 # License for the specific language governing permissions and limitations
 # under the License.
 
-from unittest import mock
+import mock
 
 from tempest.lib.common import cred_client
 from tempest.tests import base
diff --git a/tempest/tests/lib/common/test_dynamic_creds.py b/tempest/tests/lib/common/test_dynamic_creds.py
index b4b1b9112..5111a82bc 100644
--- a/tempest/tests/lib/common/test_dynamic_creds.py
+++ b/tempest/tests/lib/common/test_dynamic_creds.py
@@ -12,7 +12,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 import fixtures
 from oslo_config import cfg
diff --git a/tempest/tests/lib/common/test_preprov_creds.py b/tempest/tests/lib/common/test_preprov_creds.py
index 52385321a..87b34e502 100644
--- a/tempest/tests/lib/common/test_preprov_creds.py
+++ b/tempest/tests/lib/common/test_preprov_creds.py
@@ -15,7 +15,7 @@
 import hashlib
 import os
 import shutil
-from unittest import mock
+import mock
 
 import six
 import testtools
diff --git a/tempest/tests/lib/common/test_profiler.py b/tempest/tests/lib/common/test_profiler.py
index 166d831eb..d0b313164 100644
--- a/tempest/tests/lib/common/test_profiler.py
+++ b/tempest/tests/lib/common/test_profiler.py
@@ -10,7 +10,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 import testtools
 
diff --git a/tempest/tests/lib/common/test_validation_resources.py b/tempest/tests/lib/common/test_validation_resources.py
index d50fd8911..825182abe 100644
--- a/tempest/tests/lib/common/test_validation_resources.py
+++ b/tempest/tests/lib/common/test_validation_resources.py
@@ -11,7 +11,7 @@
 #    See the License for the specific language governing permissions and
 #    limitations under the License.
 
-from unittest import mock
+import mock
 
 import fixtures
 import testtools
diff --git a/tempest/tests/lib/common/utils/linux/test_remote_client.py b/tempest/tests/lib/common/utils/linux/test_remote_client.py
index df23e637c..7a21a5fa1 100644
--- a/tempest/tests/lib/common/utils/linux/test_remote_client.py
+++ b/tempest/tests/lib/common/utils/linux/test_remote_client.py
@@ -13,7 +13,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from tempest.lib.common import ssh
 from tempest.lib.common.utils.linux import remote_client
diff --git a/tempest/tests/lib/common/utils/test_test_utils.py b/tempest/tests/lib/common/utils/test_test_utils.py
index d8e37453f..2e47ade9f 100644
--- a/tempest/tests/lib/common/utils/test_test_utils.py
+++ b/tempest/tests/lib/common/utils/test_test_utils.py
@@ -14,7 +14,7 @@
 #    under the License.
 
 import time
-from unittest import mock
+import mock
 
 
 from tempest.lib.common import thread
diff --git a/tempest/tests/lib/services/compute/test_base_compute_client.py b/tempest/tests/lib/services/compute/test_base_compute_client.py
index 5841ae4fa..69e8542c6 100644
--- a/tempest/tests/lib/services/compute/test_base_compute_client.py
+++ b/tempest/tests/lib/services/compute/test_base_compute_client.py
@@ -12,7 +12,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from tempest.lib.common import rest_client
 from tempest.lib import exceptions
diff --git a/tempest/tests/lib/services/compute/test_servers_client.py b/tempest/tests/lib/services/compute/test_servers_client.py
index a82b255bb..56346eab1 100644
--- a/tempest/tests/lib/services/compute/test_servers_client.py
+++ b/tempest/tests/lib/services/compute/test_servers_client.py
@@ -14,7 +14,7 @@
 #    under the License.
 
 import copy
-from unittest import mock
+import mock
 
 
 from tempest.lib.services.compute import base_compute_client
diff --git a/tempest/tests/lib/services/compute/test_services_client.py b/tempest/tests/lib/services/compute/test_services_client.py
index 0c513cc40..b10eb0eeb 100644
--- a/tempest/tests/lib/services/compute/test_services_client.py
+++ b/tempest/tests/lib/services/compute/test_services_client.py
@@ -13,7 +13,7 @@
 #    under the License.
 
 import copy
-from unittest import mock
+import mock
 
 
 from tempest.lib.services.compute import base_compute_client
diff --git a/tempest/tests/lib/services/identity/v2/test_token_client.py b/tempest/tests/lib/services/identity/v2/test_token_client.py
index dc14a5002..7ead9f313 100644
--- a/tempest/tests/lib/services/identity/v2/test_token_client.py
+++ b/tempest/tests/lib/services/identity/v2/test_token_client.py
@@ -12,7 +12,7 @@
 # License for the specific language governing permissions and limitations
 # under the License.
 
-from unittest import mock
+import mock
 
 from oslo_serialization import jsonutils as json
 
diff --git a/tempest/tests/lib/services/identity/v3/test_token_client.py b/tempest/tests/lib/services/identity/v3/test_token_client.py
index 1c2295da2..6515fc079 100644
--- a/tempest/tests/lib/services/identity/v3/test_token_client.py
+++ b/tempest/tests/lib/services/identity/v3/test_token_client.py
@@ -12,7 +12,7 @@
 # License for the specific language governing permissions and limitations
 # under the License.
 
-from unittest import mock
+import mock
 
 from oslo_serialization import jsonutils as json
 
diff --git a/tempest/tests/lib/services/network/test_base_network_client.py b/tempest/tests/lib/services/network/test_base_network_client.py
index a426397bf..e121cec9d 100644
--- a/tempest/tests/lib/services/network/test_base_network_client.py
+++ b/tempest/tests/lib/services/network/test_base_network_client.py
@@ -13,7 +13,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from tempest.lib.services.network import base as base_network_client
 from tempest.tests.lib import fake_auth_provider
diff --git a/tempest/tests/lib/services/network/test_security_group_rules_client.py b/tempest/tests/lib/services/network/test_security_group_rules_client.py
index 2ecc99603..7965e34bd 100644
--- a/tempest/tests/lib/services/network/test_security_group_rules_client.py
+++ b/tempest/tests/lib/services/network/test_security_group_rules_client.py
@@ -14,7 +14,7 @@
 #    under the License.
 
 import copy
-from unittest import mock
+import mock
 
 from oslo_serialization import jsonutils as json
 
diff --git a/tempest/tests/lib/services/network/test_security_groups_client.py b/tempest/tests/lib/services/network/test_security_groups_client.py
index 501883b79..a1a5c7559 100644
--- a/tempest/tests/lib/services/network/test_security_groups_client.py
+++ b/tempest/tests/lib/services/network/test_security_groups_client.py
@@ -14,7 +14,7 @@
 #    under the License.
 
 import copy
-from unittest import mock
+import mock
 
 from oslo_serialization import jsonutils as json
 
diff --git a/tempest/tests/lib/services/object_storage/test_object_client.py b/tempest/tests/lib/services/object_storage/test_object_client.py
index d6df24393..be66222b1 100644
--- a/tempest/tests/lib/services/object_storage/test_object_client.py
+++ b/tempest/tests/lib/services/object_storage/test_object_client.py
@@ -14,7 +14,7 @@
 #    under the License.
 
 
-from unittest import mock
+import mock
 
 from tempest.lib import exceptions
 from tempest.lib.services.object_storage import object_client
diff --git a/tempest/tests/lib/services/test_clients.py b/tempest/tests/lib/services/test_clients.py
index 6c79db6c7..2ad6bde42 100644
--- a/tempest/tests/lib/services/test_clients.py
+++ b/tempest/tests/lib/services/test_clients.py
@@ -13,7 +13,7 @@
 # the License.
 
 import types
-from unittest import mock
+import mock
 
 import fixtures
 import testtools
diff --git a/tempest/tests/lib/services/volume/v3/test_services_client.py b/tempest/tests/lib/services/volume/v3/test_services_client.py
index c807bc2c9..d037e7592 100644
--- a/tempest/tests/lib/services/volume/v3/test_services_client.py
+++ b/tempest/tests/lib/services/volume/v3/test_services_client.py
@@ -14,7 +14,7 @@
 #    under the License.
 
 import copy
-from unittest import mock
+import mock
 
 from oslo_serialization import jsonutils as json
 
diff --git a/tempest/tests/lib/services/volume/v3/test_snapshot_manage_client.py b/tempest/tests/lib/services/volume/v3/test_snapshot_manage_client.py
index 8309f7acb..1b880205e 100644
--- a/tempest/tests/lib/services/volume/v3/test_snapshot_manage_client.py
+++ b/tempest/tests/lib/services/volume/v3/test_snapshot_manage_client.py
@@ -13,7 +13,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from oslo_serialization import jsonutils as json
 
diff --git a/tempest/tests/lib/services/volume/v3/test_transfers_client.py b/tempest/tests/lib/services/volume/v3/test_transfers_client.py
index 362618443..bdae747bc 100644
--- a/tempest/tests/lib/services/volume/v3/test_transfers_client.py
+++ b/tempest/tests/lib/services/volume/v3/test_transfers_client.py
@@ -14,7 +14,7 @@
 #    under the License.
 
 import copy
-from unittest import mock
+import mock
 
 from oslo_serialization import jsonutils as json
 
diff --git a/tempest/tests/lib/services/volume/v3/test_volume_manage_client.py b/tempest/tests/lib/services/volume/v3/test_volume_manage_client.py
index 3d47cafd2..6f4d729c1 100644
--- a/tempest/tests/lib/services/volume/v3/test_volume_manage_client.py
+++ b/tempest/tests/lib/services/volume/v3/test_volume_manage_client.py
@@ -13,7 +13,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from oslo_serialization import jsonutils as json
 
diff --git a/tempest/tests/lib/test_decorators.py b/tempest/tests/lib/test_decorators.py
index e3c17e8b9..cfc882e09 100644
--- a/tempest/tests/lib/test_decorators.py
+++ b/tempest/tests/lib/test_decorators.py
@@ -14,7 +14,7 @@
 #    under the License.
 
 import abc
-from unittest import mock
+import mock
 
 import six
 import testtools
diff --git a/tempest/tests/lib/test_ssh.py b/tempest/tests/lib/test_ssh.py
index f3bc63d2c..90ec161bc 100644
--- a/tempest/tests/lib/test_ssh.py
+++ b/tempest/tests/lib/test_ssh.py
@@ -13,7 +13,7 @@
 #    under the License.
 
 import socket
-from unittest import mock
+import mock
 
 import six
 from six import StringIO
diff --git a/tempest/tests/test_base_test.py b/tempest/tests/test_base_test.py
index 88c28bff9..32c7489c4 100644
--- a/tempest/tests/test_base_test.py
+++ b/tempest/tests/test_base_test.py
@@ -12,7 +12,7 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from unittest import mock
+import mock
 
 from oslo_config import cfg
 
diff --git a/tempest/tests/test_imports.py b/tempest/tests/test_imports.py
index ad7bebbad..6f1cfca70 100644
--- a/tempest/tests/test_imports.py
+++ b/tempest/tests/test_imports.py
@@ -12,7 +12,7 @@
 # License for the specific language governing permissions and limitations
 # under the License.
 
-from unittest import mock
+import mock
 
 from tempest.tests import base
 
diff --git a/tempest/tests/test_test.py b/tempest/tests/test_test.py
index 9aeedb31f..dd3d2ded8 100644
--- a/tempest/tests/test_test.py
+++ b/tempest/tests/test_test.py
@@ -15,7 +15,7 @@
 
 import os
 import sys
-from unittest import mock
+import mock
 
 from oslo_config import cfg
 import testtools
-- 
2.27.0

